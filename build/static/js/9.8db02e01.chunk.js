webpackJsonp([9],{482:function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1__family__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_3__relatives_services_constant__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_4_mockjs__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_4_mockjs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_mockjs__),__WEBPACK_IMPORTED_MODULE_5__Checker_css__=__webpack_require__(538),__WEBPACK_IMPORTED_MODULE_5__Checker_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__Checker_css__),_slicedToArray=function(){function e(e,t){var _=[],r=!0,a=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(_.push(s.value),!t||_.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw c}}return _}return function(t,_){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var _=0;_<t.length;_++){var r=t[_];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,_,r){return _&&e(t.prototype,_),r&&e(t,r),t}}(),Checker=function(_Component){function Checker(props){_classCallCheck(this,Checker);var _this=_possibleConstructorReturn(this,(Checker.__proto__||Object.getPrototypeOf(Checker)).call(this,props));return _this.switchMod=function(e,t){e.preventDefault(),_this.setState({mod:t})},_this.switchItf=function(e,t){e.preventDefault(),_this.setState({itf:t},function(){_this.handleRequest()})},_this.handleRequest=function(){var _this$state$itf=_this.state.itf,repositoryId=_this$state$itf.repositoryId,method=_this$state$itf.method,url=_this$state$itf.url,target=_this.state.target+"/app/mock/"+repositoryId+"/"+method+"/"+url,proxy=__WEBPACK_IMPORTED_MODULE_3__relatives_services_constant__.c+"/proxy?target="+target,requests=[fetch(__WEBPACK_IMPORTED_MODULE_3__relatives_services_constant__.c+"/app/mock/schema/"+_this.state.itf.id).then(function(e){return e.json()}),fetch(proxy).then(function(e){return e.json()})];Promise.all(requests).then(function(_ref){var _ref2=_slicedToArray(_ref,2),schema=_ref2[0],data=_ref2[1],_Mock$valid=__WEBPACK_IMPORTED_MODULE_4_mockjs___default.a.valid,Diff=_Mock$valid.Diff,Assert=_Mock$valid.Assert,nextMatch=Assert.match;Assert.match=function(type,path,actual,expected,result,message){"string"===typeof expected&&(expected=eval("("+expected+")")),nextMatch(type,path,actual,expected,result,message)};for(var result=Diff.diff(schema,data),i=0;i<result.length;i++)console.warn(Assert.message(result[i]))})},_this.state={mod:null,itf:null,target:__WEBPACK_IMPORTED_MODULE_3__relatives_services_constant__.c},_this}return _inherits(Checker,_Component),_createClass(Checker,[{key:"render",value:function(){var e=this,t=this.props.repository;if(t.fetching)return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__utils__.l,null);t=t.data;var _=this.state.mod||t.modules[0],r=this.state.itf||_.interfaces[0];return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("section",{className:"Checker"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"card-mods clearfix"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"card-title"},"\u6a21\u5757\uff1a"),t.modules.map(function(t){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__family__.b,{key:t.id,to:"",onClick:function(_){return e.switchMod(_,t)},className:t.id===_.id?"active":""},t.name)})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"card-itfs clearfix"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"card-title"},"\u63a5\u53e3\uff1a"),_.interfaces.map(function(t){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__family__.b,{key:t.id,to:"",onClick:function(_){return e.switchItf(_,t)},className:t.id===r.id?"active":""},t.name)})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("input",{value:this.state.target,onChange:function(t){return e.setState({target:t.target.value})},className:"form-control"})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"card-result"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"card-title"},__WEBPACK_IMPORTED_MODULE_3__relatives_services_constant__.c+"/app/mock/data/"+r.id),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("pre",null,JSON.stringify(this.state.result,null,2))))}},{key:"componentWillReceiveProps",value:function(e){var t=this,_=e.repository;if(_=_.data,_.id){var r=this.state.mod||_.modules[0],a=this.state.itf||r.interfaces[0];fetch(__WEBPACK_IMPORTED_MODULE_3__relatives_services_constant__.c+"/app/mock/data/"+a.id).then(function(e){return e.json()}).then(function(e){t.setState({result:e})})}}}]),Checker}(__WEBPACK_IMPORTED_MODULE_0_react__.Component);Checker.contextTypes={store:__WEBPACK_IMPORTED_MODULE_1__family__.d.object.isRequired},Checker.propTypes={repository:__WEBPACK_IMPORTED_MODULE_1__family__.d.object.isRequired};var mapStateToProps=function(e){return{auth:e.auth,repository:e.repository}},mapDispatchToProps={};__webpack_exports__.default=Object(__WEBPACK_IMPORTED_MODULE_1__family__.j)(mapStateToProps,mapDispatchToProps)(Checker)},538:function(e,t,_){var r=_(539);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;_(477)(r,a);r.locals&&(e.exports=r.locals)},539:function(e,t,_){t=e.exports=_(476)(!0),t.push([e.i,".Checker{padding:2rem}.Checker .card-itfs .card-title,.Checker .card-mods .card-title{float:left;width:5rem;font-size:1.4rem}.Checker .card-itfs a,.Checker .card-mods a{float:left;margin-right:1rem;width:10rem;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;color:#666}.Checker .card-itfs a.active,.Checker .card-mods a.active{color:#4a7bf7}.Checker .card-result{margin-top:1rem}.Checker .card-result .card-title{font-size:1.4rem;margin-bottom:1rem}","",{version:3,sources:["D:/webstorm/rap2-dolores/src/components/checker/Checker.css"],names:[],mappings:"AAAA,SACE,YAAc,CAAE,AAChB,gEACE,WAAY,AACZ,WAAY,AACZ,gBAAkB,CAAE,AACtB,4CACE,WAAY,AACZ,kBAAmB,AACnB,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,0BAA2B,AACxB,uBAAwB,AAC3B,UAAY,CAAE,AAChB,0DACE,aAAe,CAAE,AACnB,sBACE,eAAiB,CAAE,AACnB,kCACE,iBAAkB,AAClB,kBAAoB,CAAE",file:"Checker.css",sourcesContent:[".Checker {\n  padding: 2rem; }\n  .Checker .card-mods .card-title, .Checker .card-itfs .card-title {\n    float: left;\n    width: 5rem;\n    font-size: 1.4rem; }\n  .Checker .card-mods a, .Checker .card-itfs a {\n    float: left;\n    margin-right: 1rem;\n    width: 10rem;\n    overflow: hidden;\n    white-space: nowrap;\n    -o-text-overflow: ellipsis;\n       text-overflow: ellipsis;\n    color: #666; }\n  .Checker .card-mods a.active, .Checker .card-itfs a.active {\n    color: #4A7BF7; }\n  .Checker .card-result {\n    margin-top: 1rem; }\n    .Checker .card-result .card-title {\n      font-size: 1.4rem;\n      margin-bottom: 1rem; }\n"],sourceRoot:""}])}});
//# sourceMappingURL=9.8db02e01.chunk.js.map